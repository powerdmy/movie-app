{"version":3,"sources":["webpack:///src/components/movieDetail/movieDetail.vue","webpack:///./src/components/movieDetail/movieDetail.vue?6e03","webpack:///./src/components/movieDetail/movieDetail.vue"],"names":["movieDetail","mStar","star","mLoading","loading","name","title","backName","next","_this","this","data","error","movieDetail_movieDetail","render","_vm","_h","$createElement","_c","_self","attrs","end","completed","_v","staticClass","src","movieInfo","images","small","alt","_s","year","countries","join","genres","original_title","getDirectors","rating","average","size","score","ratings_count","wish_count","collect_count","summary","_l","item","index","key","on","click","$event","setHeader","to","params","id","avatars","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"8KA0DAA,QAEA,0BAEAC,MAAAC,EAAA,EAEAC,SAAAC,EAAA,qCAGA,YAEA,uIAOAC,oBAEA,2DAKAA,uCAEAC,kFAMA,8BACA,0CAEA,6BACA,qDAEAC,mDAEA,4BACA,IAEAC,wBAEA,IAAAC,EAAAC,4EAEAC,kBACA,kCAEAC,OC1GAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAL,KAAaM,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,aAAiCE,OAAOC,IAAAN,EAAAO,aAAqBP,EAAAQ,GAAA,KAAAR,EAAA,UAAAG,EAAA,OAAAA,EAAA,OAAkDM,YAAA,iBAA2BN,EAAA,OAAYM,YAAA,UAAoBN,EAAA,OAAYE,OAAOK,IAAAV,EAAAW,UAAAC,OAAAC,MAAAC,IAAA,UAA2Cd,EAAAQ,GAAA,KAAAL,EAAA,OAA4BM,YAAA,0BAAoCN,EAAA,OAAYM,YAAA,iBAA2BN,EAAA,OAAYM,YAAA,UAAoBT,EAAAQ,GAAAR,EAAAe,GAAAf,EAAAW,UAAApB,UAAAS,EAAAQ,GAAA,KAAAL,EAAA,OAA8DM,YAAA,oBAA8BT,EAAAQ,GAAA,iBAAAR,EAAAe,GAAAf,EAAAW,UAAAK,MAAA,IAAAhB,EAAAe,GAAAf,EAAAW,UAAAM,UAAAC,KAAA,wBAAAlB,EAAAQ,GAAA,KAAAL,EAAA,OAA2IM,YAAA,oBAA8BT,EAAAQ,GAAA,iBAAAR,EAAAe,GAAAf,EAAAW,UAAAQ,OAAAD,KAAA,wBAAAlB,EAAAQ,GAAA,KAAAL,EAAA,OAAyGM,YAAA,oBAA8BT,EAAAQ,GAAA,MAAAR,EAAAe,GAAAf,EAAAW,UAAAS,mBAAApB,EAAAQ,GAAA,KAAAL,EAAA,OAA6EM,YAAA,oBAA8BT,EAAAQ,GAAA,MAAAR,EAAAe,GAAAf,EAAAqB,mBAAArB,EAAAQ,GAAA,KAAAL,EAAA,OAAmEM,YAAA,iBAA2BN,EAAA,OAAYM,YAAA,qBAA+BN,EAAA,OAAYM,YAAA,UAAoBT,EAAAQ,GAAA,uBAAAL,EAAA,QAAAH,EAAAQ,GAAA,IAAAR,EAAAe,GAAAf,EAAAW,UAAAW,OAAAC,SAAA,SAAAvB,EAAAQ,GAAA,KAAAL,EAAA,UAA6HE,OAAOmB,KAAA,KAAAC,MAAAzB,EAAAW,UAAAW,OAAAC,WAAkDvB,EAAAQ,GAAA,KAAAL,EAAA,OAAwBM,YAAA,eAAyBT,EAAAQ,GAAAR,EAAAe,GAAAf,EAAAW,UAAAe,eAAA,eAAA1B,EAAAQ,GAAA,KAAAL,EAAA,OAAkFM,YAAA,yBAAmCN,EAAA,OAAYM,YAAA,QAAkBT,EAAAQ,GAAA,MAAAR,EAAAe,GAAAf,EAAAW,UAAAgB,YAAA,OAAA3B,EAAAQ,GAAA,KAAAL,EAAA,OAA6EM,YAAA,QAAkBT,EAAAQ,GAAA,MAAAR,EAAAe,GAAAf,EAAAW,UAAAiB,eAAA,SAAA5B,EAAAQ,GAAA,KAAAL,EAAA,OAAkFM,YAAA,kBAA4BN,EAAA,OAAYM,YAAA,UAAoBT,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAA0CM,YAAA,SAAmBT,EAAAQ,GAAA,eAAAR,EAAAe,GAAAf,EAAAW,UAAAkB,SAAA,kBAAA7B,EAAAQ,GAAA,KAAAL,EAAA,OAA8FM,YAAA,gBAA2BT,EAAA8B,GAAA9B,EAAAW,UAAA,eAAAoB,EAAAC,GAAmD,OAAA7B,EAAA,OAAiB8B,IAAAD,EAAAvB,YAAA,UAAAyB,IAAoCC,MAAA,SAAAC,GAAyBpC,EAAAqC,UAAAN,EAAAzC,UAA2Ba,EAAA,eAAoBE,OAAOiC,IAAMhD,KAAA,QAAAiD,QAAyBC,GAAAT,EAAAS,QAAkBrC,EAAA,OAAYM,YAAA,iBAA2BN,EAAA,OAAYE,OAAOK,IAAAqB,EAAAU,QAAA5B,MAAAC,IAAA,QAAmCd,EAAAQ,GAAA,KAAAL,EAAA,KAAAH,EAAAQ,GAAAR,EAAAe,GAAAgB,EAAAzC,YAAA,QAA0DU,EAAA0C,MAAA,IAEnvEC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA7D,EACAa,GATA,EAVA,SAAAiD,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/2.37fec386386069a5a21b.js","sourcesContent":["<template>\n  <div>\n\t\t<m-loading :end=\"completed\"></m-loading>\n\t\t<div  v-if=\"movieInfo\">\n\t\t\t<div class=\"m-top-poster\">\n\t\t\t\t<div class=\"cover\">\n\t\t\t\t\t<img :src=\"movieInfo.images.small\" alt=\"\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"movie-info-wrap fixed\">\n\t\t\t\t<div class=\"movie-info-l\">\n\t\t\t\t\t<div class=\"title\">{{ movieInfo.title }}</div>\n\t\t\t\t\t<div class=\"movie-info-item\">\n\t\t\t\t\t\t{{ movieInfo.year }}/{{ movieInfo.countries.join('/') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"movie-info-item\">\n\t\t\t\t\t\t{{ movieInfo.genres.join('/') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"movie-info-item\">原名：{{ movieInfo.original_title }}</div>\n\t\t\t\t\t<div class=\"movie-info-item\">导演：{{ getDirectors }}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"movie-info-r\">\n\t\t\t\t\t<div class=\"movie-score-wrap\">\n\t\t\t\t\t\t<div class=\"score\">\n\t\t\t\t\t\t\t评分：<span> {{ movieInfo.rating.average }} </span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<m-star size=\"36\" :score=\"movieInfo.rating.average\"></m-star>\n\t\t\t\t\t\t<div class=\"person-num\">{{ movieInfo.ratings_count }}人</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"movie-btn-wrap fixed\">\n\t\t\t\t<div class=\"btn\">想看（{{ movieInfo.wish_count }}）</div>\n\t\t\t\t<div class=\"btn\">看过（{{ movieInfo.collect_count }}）</div>\n\t\t\t</div>\n\t\t\t<div class=\"movie-summary\">\n\t\t\t\t<div class=\"title\">剧情简介：</div>\n\t\t\t\t<div class=\"main\">\n\t\t\t\t\t{{ movieInfo.summary }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"article-wrap\">\n\t\t\t\t<div class=\"article\" v-for=\"(item, index) in movieInfo.casts\" :key=\"index\" @click=\"setHeader(item.name)\">\n\t\t\t\t\t<router-link :to=\"{ name: 'actor', params: { id: item.id } }\">\n\t\t\t\t\t\t<div class=\"article-head\">\n\t\t\t\t\t\t\t<img :src=\"item.avatars.small\" alt=\"\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>{{ item.name }}</p>\n\t\t\t\t\t</router-link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n  </div>\n</template>\n<script>\nimport Bus from '../../common/Bus.js'\nimport mStar from '../star/star.vue'\nimport httpClient from '../../api/index.js'\nimport mLoading from '../loading/loading.vue'\nexport default {\n\tname: 'movieDetail',\n\tcomponents: {\n\t\tmStar,\n\t\tmLoading\n\t},\n  data() {\n\t\treturn {\n\t\t\tcompleted: false,\n\t\t\tmovieInfo: null\n\t\t}\n\t},\n\tcomputed: {\n\t\t// 导演\n\t\tgetDirectors() {\n      let dir = []\n      for (let i = 0, len = this.movieInfo.directors.length; i < len; i++) {\n        dir.push(this.movieInfo.directors[i].name)\n      }\n      return dir.join('/')\n    }\n\t},\n\tmethods: {\n\t\tsetHeader(name) {\n\t\t\tBus.$emit('setTitle', name)\n\t\t\t// 存储电影名字\n\t\t\tthis.$root.backTitle = this.movieInfo.title\n\t\t}\n\t},\n\t// 路由改变修改Header\n  beforeRouteLeave (to, from, next) {\n\t\tif (to.name === 'hotList') {\n\t\t\tBus.$emit('setTitle', '正在热映')\n\t\t\tBus.$emit('backshow', false)\n\t\t} else if (to.name === 'rank') {\n\t\t\tBus.$emit('setTitle', '排行榜')\n\t\t\tBus.$emit('backshow', false)\n\t\t} else if (to.name === 'actor') {\n\t\t\tBus.$emit('setTitle', this.$root.backName)\n\t\t} else if (to.name === 'search') {\n\t\t\tBus.$emit('setTitle', '搜索')\n\t\t\tBus.$emit('backshow', false)\n\t\t}\n\t\tnext()\n\t},\n\tcreated() {\n\t\thttpClient.getMovieItem(this.$route.params.id).then(res => {\n\t\t\tthis.movieInfo = res.data\n\t\t\tthis.completed = true\n\t\t}).catch(error => {\n\t\t\tconsole.log(error)\n\t\t})\n\t}\n}\n</script>\n<style lang=\"less\">\n.m-top-poster{\n\tmargin: 20px auto;\n\twidth: 40%;\n\t.cover{\n\t\twidth: 100%;\n\t\tpadding-bottom: 140%;\n\t\theight: 0;\n\t\toverflow: hidden;\n\t\timg{\n\t\t\twidth: 100%;\n\t\t\theight: auto;\n\t\t}\n\t}\n}\n.movie-info-wrap{\n\tmargin: 15px;\n}\n.movie-info-l{\n\tfloat: left;\n\twidth: 50%;\n\t.title{\n\t\tfont-size: 18px;\n\t\tcolor: #333333;\n\t}\n\t.movie-info-item{\n\t\tfont-size: 14px;\n\t\tcolor: #666666;\n\t\tmargin-top: 8px;\n\t}\n}\n.movie-info-r{\n\tfloat: right;\n\twidth: 50%;\n}\n.movie-score-wrap{\n\tpadding: 10px;\n\tborder: 1px solid #eeeeee;\n\twidth: 100px;\n\tmargin: 10px auto 0;\n\tborder-radius: 4px;\n\t.score{\n\t\tfont-size: 14px;\n\t\tcolor: #666666;\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t\tmargin-bottom: 6px;\n\t\tspan{\n\t\t\tcolor: #c75c1e;\n\t\t}\n\t}\n\t.person-num{\n\t\tcolor: #999999;\n\t\tfont-size: 14px;\n\t\tdisplay: block;\n\t\tmargin-top: 4px;\n\t\ttext-align: center;\n\t}\n}\n.movie-btn-wrap{\n\tmargin: 0 15px;\n\t.btn{\n\t\tfloat: left;\n\t\twidth: 47%;\n\t\tmargin-right: 6%;\n\t\tbox-sizing: border-box;\n\t\tline-height: 34px;\n\t\theight: 34px;\n\t\ttext-align: center;\n\t\tfont-size: 14px;\n\t\tborder: 1px solid #ff7a2d;\n\t\tcolor: #ff7a2d;\n\t\t&:last-child{\n\t\t\tmargin-right: 0;\n\t\t}\n\t}\n}\n.movie-summary{\n\tmargin: 15px;\n\t.title{\n\t\tcolor: #999999;\n\t\tfont-size: 14px;\n\t}\n\t.main{\n\t\tmargin-top: 8px;\n\t\tcolor: #999999;\n\t\tfont-size: 14px;\n\t\tline-height: 1.5;\n\t}\n}\n.article-wrap{\n\tdisplay: flex;\n\tmargin: 15px;\n\tmargin-right: 5px;\n\t.article{\n\t\tflex: 1;\n\t\tmargin-right: 10px;\n\t\t>a{\n\t\t\tdisplay: block;\n\t\t}\n\t\t.article-head{\n\t\t\twidth: 100%;\n\t\t\tpadding-bottom: 100%;\n\t\t\toverflow: hidden;\n\t\t\theight: 0;\n\t\t}\n\t\timg{\n\t\t\twidth: 100%;\n\t\t\theight: auto;\n\t\t}\n\t\tp{\n\t\t\ttext-align: center;\n\t\t\tmargin-top: 6px;\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #666666;\n\t\t\tline-height: 1.4;\n\t\t}\n\t}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/movieDetail/movieDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('m-loading',{attrs:{\"end\":_vm.completed}}),_vm._v(\" \"),(_vm.movieInfo)?_c('div',[_c('div',{staticClass:\"m-top-poster\"},[_c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":_vm.movieInfo.images.small,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"movie-info-wrap fixed\"},[_c('div',{staticClass:\"movie-info-l\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.movieInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"movie-info-item\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.movieInfo.year)+\"/\"+_vm._s(_vm.movieInfo.countries.join('/'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"movie-info-item\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.movieInfo.genres.join('/'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"movie-info-item\"},[_vm._v(\"原名：\"+_vm._s(_vm.movieInfo.original_title))]),_vm._v(\" \"),_c('div',{staticClass:\"movie-info-item\"},[_vm._v(\"导演：\"+_vm._s(_vm.getDirectors))])]),_vm._v(\" \"),_c('div',{staticClass:\"movie-info-r\"},[_c('div',{staticClass:\"movie-score-wrap\"},[_c('div',{staticClass:\"score\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t评分：\"),_c('span',[_vm._v(\" \"+_vm._s(_vm.movieInfo.rating.average)+\" \")])]),_vm._v(\" \"),_c('m-star',{attrs:{\"size\":\"36\",\"score\":_vm.movieInfo.rating.average}}),_vm._v(\" \"),_c('div',{staticClass:\"person-num\"},[_vm._v(_vm._s(_vm.movieInfo.ratings_count)+\"人\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"movie-btn-wrap fixed\"},[_c('div',{staticClass:\"btn\"},[_vm._v(\"想看（\"+_vm._s(_vm.movieInfo.wish_count)+\"）\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_vm._v(\"看过（\"+_vm._s(_vm.movieInfo.collect_count)+\"）\")])]),_vm._v(\" \"),_c('div',{staticClass:\"movie-summary\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"剧情简介：\")]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.movieInfo.summary)+\"\\n\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('div',{staticClass:\"article-wrap\"},_vm._l((_vm.movieInfo.casts),function(item,index){return _c('div',{key:index,staticClass:\"article\",on:{\"click\":function($event){_vm.setHeader(item.name)}}},[_c('router-link',{attrs:{\"to\":{ name: 'actor', params: { id: item.id } }}},[_c('div',{staticClass:\"article-head\"},[_c('img',{attrs:{\"src\":item.avatars.small,\"alt\":\"\"}})]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.name))])])],1)}))]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e0cd9c6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/movieDetail/movieDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e0cd9c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./movieDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./movieDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./movieDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e0cd9c6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./movieDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/movieDetail/movieDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}